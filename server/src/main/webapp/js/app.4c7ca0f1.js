(function(t){function e(e){for(var s,n,i=e[0],c=e[1],l=e[2],m=0,d=[];m<i.length;m++)n=i[m],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&d.push(r[n][0]),r[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(s=!1)}s&&(o.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},r={app:0},o=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/TingJuiBookstoreTransact/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"04a3":function(t,e,a){t.exports=a.p+"img/images+à+la+sauvette.b5a6f646.jpg"},"05b8":function(t,e,a){},"0e09":function(t,e,a){"use strict";a("bd8e")},"0f51":function(t,e,a){"use strict";a("296e")},"156e":function(t,e,a){},1928:function(t,e,a){t.exports=a.p+"img/ansel+adams'+yosemite+the+special+edition+prints.c6ea9d1f.jpg"},"1adf":function(t,e,a){},"1c7a":function(t,e,a){"use strict";a("05b8")},"1cc8":function(t,e,a){},"1dbe":function(t,e,a){t.exports=a.p+"img/shoji+ueda+photographs.5dcd066e.jpg"},"1f5e":function(t,e,a){t.exports=a.p+"img/lake+pictures.53b0e68c.jpg"},2527:function(t,e,a){t.exports=a.p+"img/the+americans.bd02279f.jpg"},2816:function(t,e,a){t.exports=a.p+"img/the+story+of+baseball+in+100+photographs.423d5a88.jpg"},"296e":function(t,e,a){},"2e5a":function(t,e,a){"use strict";a("6b2e")},"36ad":function(t,e,a){"use strict";a("b088")},"3e93":function(t,e,a){"use strict";a("6446")},"40c7":function(t,e,a){"use strict";a("7d05")},"43f1":function(t,e,a){var s={"./100+dives+of+a+lifetime.jpg":"f0f6","./a+song+of+life.jpg":"770f","./annie+leibovitz+portraits+2005-2016.jpg":"a9ee","./ansel+adams'+yosemite+the+special+edition+prints.jpg":"1928","./california.jpg":"e691","./denied.jpg":"c801","./extreme+like+a+girl.jpg":"b8ee","./geomancy.jpg":"6de9","./images+à+la+sauvette.jpg":"04a3","./kwame+brathwaite+black+is+beautiful.jpg":"7dfa","./lake+pictures.jpg":"1f5e","./le+corbusier+the+complete+buildings.jpg":"beea","./live+beautiful.jpg":"728f","./memories+of+a+dog.jpg":"f6c7","./planet+lithuania.jpg":"f609","./shoji+ueda+photographs.jpg":"1dbe","./soviet+cities+labour,+life+&+leisure.jpg":"e49d","./stories+behind+the+images.jpg":"b82d","./swimming+pool.jpg":"5b64","./the+americans.jpg":"2527","./the+dark+carnival.jpg":"e356","./the+story+of+baseball+in+100+photographs.jpg":"2816","./the+suffering+of+light.jpg":"fcee","./urban+geometry.jpg":"a6f5","./vivian+maier+street+photographer.jpg":"8bc3"};function r(t){var e=o(t);return a(e)}function o(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}r.keys=function(){return Object.keys(s)},r.resolve=o,t.exports=r,r.id="43f1"},"4ff6":function(t,e,a){"use strict";a("1adf")},"56c5":function(t,e,a){"use strict";a("1cc8")},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("app-header"),a("router-view"),a("app-footer")],1)},o=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("section",{staticClass:"bookstore-logo"},[a("router-link",{attrs:{to:"/"}},[a("span",{staticClass:"logo"},[t._v("1s")]),a("span",{staticClass:"title"},[t._v("One Store")])])],1),a("section",{staticClass:"header-search-bar-dropdown-and-cart"},[a("header-search-bar"),a("router-link",{staticClass:"shopping-cart",attrs:{to:"/cart",tag:"span"}},[a("i",{staticClass:"fas fa-shopping-cart"}),a("span",{staticClass:"item-number"},[t._v(t._s(t.$store.state.cart.numberOfItems))])]),a("i",{staticClass:"fas fa-user"}),a("HeaderHamburger")],1)])},i=[],c=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{action:"/category/all"}},[a("input",{staticClass:"search-bar",attrs:{type:"text"}}),a("br"),a("button",{staticClass:"button search-button",attrs:{type:"submit"}},[a("i",{staticClass:"fas fa-search"})])])}],u={name:"HeaderSearchBar"},m=u,d=(a("654e"),a("2877")),p=Object(d["a"])(m,c,l,!1,null,"07d3ddc7",null),h=p.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-hamburger"},[a("i",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeMenu,expression:"closeMenu"}],ref:"hamburger",staticClass:"fas fa-bars hamburger-btn",on:{click:t.toggleMenu}}),a("ul",{class:{unfold:t.meunOpened}},[a("li",{staticClass:"menu-title"},[t._v("Account")]),a("li",[t._v("Information")]),a("li",[t._v("Orders")]),a("li",[t._v("Shopping Cart")]),a("li",{staticClass:"menu-title"},[t._v("Categories")]),t._l(t.$store.state.categories,(function(e){return[a("router-link",{key:e.categoryId,attrs:{to:{name:"category",params:{name:e.name}},tag:"li"},nativeOn:{click:function(e){return t.toggleMenu.apply(null,arguments)}}},[t._v(t._s(e.name))])]}))],2)])},b=[],f={name:"HeaderHamburger",data:function(){return{meunOpened:!1}},methods:{toggleMenu(){this.meunOpened=!this.meunOpened},closeMenu(){this.meunOpened=!1}}},v=f,_=(a("40c7"),Object(d["a"])(v,g,b,!1,null,"bd2e7f42",null)),C=_.exports,y={name:"AppHeader",components:{HeaderSearchBar:h,HeaderHamburger:C},component:{HeaderHamburger:C}},k=y,$=(a("0e09"),Object(d["a"])(k,n,i,!1,null,"63fd57d0",null)),x=$.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"container"},[t._m(0),a("section",{staticClass:"links"},[a("router-link",{attrs:{to:"/"}},[t._v("About")]),t._v("| "),a("router-link",{attrs:{to:"/"}},[t._v("Contact")]),t._v("| "),a("router-link",{attrs:{to:"/"}},[t._v("Directions")])],1),a("section",{staticClass:"social-media-icons"},[a("router-link",{attrs:{to:"/"}},[a("i",{staticClass:"fab fa-amazon"})]),a("router-link",{attrs:{to:"/"}},[a("i",{staticClass:"fab fa-twitter"})]),a("router-link",{attrs:{to:"/"}},[a("i",{staticClass:"fab fa-facebook-f"})])],1)])},O=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"copyright"},[a("span",[t._v("©2021 Ting-Jui Hsu")])])}],N={name:"AppFooter"},j=N,S=(a("4ff6"),Object(d["a"])(j,E,O,!1,null,"1c795728",null)),w=S.exports,I={name:"App",components:{AppHeader:x,AppFooter:w},created:function(){this.$store.dispatch("fetchCategories")}},T=I,D=Object(d["a"])(T,r,o,!1,null,null,null),A=D.exports,P=a("8c4f"),q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home-page"},[a("HomeHeroList")],1)},L=[],R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"hero-module"},[s("img",{attrs:{src:a("acb9"),alt:"swimming_pool"}}),s("div",{staticClass:"hero-caption",attrs:{id:"hero-caption-1"}},[s("span",{staticClass:"author"},[t._v("Mária Švarbová’s")]),s("span",{staticClass:"title"},[t._v("Swimming Pool")]),s("router-link",{staticClass:"cta-btn",attrs:{to:"/category/Black%20&%20White"}},[t._v("BUY NOW")])],1)])},H=[],M={name:"HomeHeroList"},B=M,Y=(a("712d"),Object(d["a"])(B,R,H,!1,null,"65e14234",null)),F=Y.exports,z={name:"Home",components:{HomeHeroList:F}},G=z,J=(a("3e93"),Object(d["a"])(G,q,L,!1,null,"227bb618",null)),U=J.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category-page"},[a("category-nav"),a("category-book-list")],1)},W=[],V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"category-nav"},[a("ul",{staticClass:"category-buttons"},[t._l(t.$store.state.categories,(function(e){return[t.$route.params.name===e.name?a("li",{key:e.categoryId,staticClass:"selected-btn button"},[t._v(" "+t._s(e.name)+" ")]):a("router-link",{key:e.categoryId,staticClass:"button",attrs:{to:{name:"category",params:{name:e.name}},tag:"li"}},[t._v(t._s(e.name))])]}))],2),a("span",{staticClass:"separate-line"})])},Q=[],X={name:"CategoryNav"},Z=X,tt=(a("0f51"),Object(d["a"])(Z,V,Q,!1,null,"211a5428",null)),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[t._l(t.$store.state.selectedCategoryBooks,(function(t){return[a("category-book-list-item",{key:t.bookId,attrs:{book:t}})]}))],2)},st=[],rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"book-box"},[s("div",{staticClass:"book-image"},[s("img",{attrs:{src:a("43f1")("./"+t.getImageFilePath(t.book.title)),alt:t.book.title}}),t.book.isPublic?s("div",{staticClass:"book-image-interface"},[s("button",{staticClass:"button read-btn"},[t._v("Read Now")])]):t._e()]),s("div",{staticClass:"book-title"},[t._v(t._s(t.book.title))]),s("div",{staticClass:"book-author"},[t._v(t._s(t.book.author))]),s("div",{staticClass:"book-price"},[s("span",{staticClass:"price"},[t._v(t._s(t._f("asDollarsAndCents")(t.book.price)))])]),s("button",{staticClass:"add-to-cart-btn button",on:{click:function(e){return t.addToCart(t.book)}}},[t._v(" Add to Cart ")])])},ot=[],nt={name:"categoryBookListItem",props:{book:{type:Object,required:!0}},methods:{addToCart(t){this.$store.dispatch("addToCart",t)},getImageFilePath(t){let e=t.toLowerCase();return e=e.replace(/ /g,"+").replace(/[\\<>:"/|?*]/,""),e+".jpg"}}},it=nt,ct=(a("36ad"),Object(d["a"])(it,rt,ot,!1,null,"62b7b21c",null)),lt=ct.exports,ut={name:"CategoryBookList",components:{CategoryBookListItem:lt}},mt=ut,dt=(a("9eae"),Object(d["a"])(mt,at,st,!1,null,"5002bda6",null)),pt=dt.exports,ht={name:"category",components:{CategoryNav:et,CategoryBookList:pt},watch:{"$route.params":{handler(){this.$store.dispatch("selectCategory",this.$route.params.name)},immediate:!0}},created:function(){const t=this;this.$store.dispatch("selectCategory",this.$route.params.name),this.$store.dispatch("fetchSelectedCategoryBooks").catch((function(){t.$router.push("/404")}))}},gt=ht,bt=(a("e069"),Object(d["a"])(gt,K,W,!1,null,"e74bace0",null)),ft=bt.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cart-page"},[0===t.$store.state.cart.numberOfItems?a("section",{staticClass:"empty-cart-page"},[a("h1",[t._v("Your Cart Is Empty")]),a("div",{staticClass:"empty-cart-button"},[""!==t.$store.state.selectedCategoryName?a("router-link",{staticClass:"button continue-button",attrs:{to:{name:"category",params:{name:t.$store.state.selectedCategoryName}}}},[t._v(" CONTINUE SHOPPING ")]):a("router-link",{staticClass:"button continue-button",attrs:{to:{name:"category",params:{name:t.$store.state.categories[0].name}}}},[t._v(" CONTINUE SHOPPING ")])],1)]):a("section",{staticClass:"non-empty-cart-page"},[1===t.$store.state.cart.numberOfItems?a("h1",[t._v(" You've Picked "+t._s(t.$store.state.cart.numberOfItems)+" Item ")]):a("h1",[t._v("You've Picked "+t._s(t.$store.state.cart.numberOfItems)+" Items")]),a("div",{staticClass:"cart-button"},[""!==t.$store.state.selectedCategoryName?a("router-link",{staticClass:"button continue-button",attrs:{to:{name:"category",params:{name:t.$store.state.selectedCategoryName}}}},[t._v(" Continue Shopping ")]):a("router-link",{staticClass:"button continue-button",attrs:{to:{name:"category",params:{name:t.$store.state.categories[0].name}}}},[t._v(" Continue Shopping ")]),a("router-link",{staticClass:"button checkout-button",attrs:{to:"/checkout"}},[t._v("Proceed to Checkout")])],1),a("div",{staticClass:"line-sup-main"}),a("CartTable"),a("div",{staticClass:"clear-and-subtotal-group"},[a("button",{staticClass:"button clear-button",on:{click:t.clearCart}},[t._v(" Clear the Cart ")]),a("div",{staticClass:"subtotal"},[a("span",[t._v("Subtotal: ")]),t._v(t._s(t._f("asDollarsAndCents")(t.$store.state.cart.subtotal))+" ")])])],1)])},_t=[],Ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cart-table"},[s("ul",[t._l(t.$store.state.cart.items,(function(e){return[s("li",{key:e.book.bookId},[s("div",{staticClass:"book-image"},[s("img",{attrs:{src:a("43f1")("./"+t.getImageFilePath(e.book.title)),alt:e.book.title}})]),s("div",{staticClass:"book-title"},[t._v(t._s(e.book.title))]),s("div",{staticClass:"cart-book-quantity"},[s("button",{staticClass:"icon-button dec-button",on:{click:function(a){return t.updateCart(e.book,e.quantity-1)}}},[s("i",{staticClass:"fas fa-minus-square"})]),s("span",{staticClass:"quantity"},[t._v(t._s(e.quantity))]),s("button",{staticClass:"icon-button inc-button",on:{click:function(a){return t.updateCart(e.book,e.quantity+1)}}},[s("i",{staticClass:"fas fa-plus-square"})])]),s("div",{staticClass:"book-price"},[t._v(" "+t._s(t._f("asDollarsAndCents")(e.book.price))+" ")]),s("div",{key:e.book.bookId,staticClass:"line-sep"})])]}))],2)])},yt=[],kt={name:"CartTable",methods:{getImageFilePath(t){let e=t.toLowerCase();return e=e.replace(/ /g,"+").replace(/[\\<>:"/|?*]/,""),e+".jpg"},updateCart(t,e){this.$store.dispatch("updateCart",{book:t,quantity:e})}}},$t=kt,xt=(a("56c5"),Object(d["a"])($t,Ct,yt,!1,null,"25a68278",null)),Et=xt.exports,Ot={name:"Cart",components:{CartTable:Et},methods:{clearCart(){this.$store.dispatch("clearCart")}}},Nt=Ot,jt=(a("fef3"),Object(d["a"])(Nt,vt,_t,!1,null,"2171b6cb",null)),St=jt.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"checkout-page"},[t.cart.empty?a("section",{staticClass:"checkout-page-body"},[a("h1",[t._v("Your Cart Is Empty")]),a("div",{staticClass:"empty-cart-button"},[""!==t.$store.state.selectedCategoryName?a("router-link",{staticClass:"button continue-button",attrs:{to:{name:"category",params:{name:t.$store.state.selectedCategoryName}}}},[t._v(" CONTINUE SHOPPING ")]):a("router-link",{staticClass:"button continue-button",attrs:{to:{name:"category",params:{name:t.$store.state.categories[0].name}}}},[t._v(" CONTINUE SHOPPING ")])],1)]):a("section",{staticClass:"checkout-page-body"},[a("h1",[t._v("Checkout Information")]),a("form",{on:{submit:function(e){return e.preventDefault(),t.submitOrder.apply(null,arguments)}}},[a("div",[a("label",{attrs:{for:"name"}},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.$v.name.$model,expression:"$v.name.$model",modifiers:{lazy:!0}}],style:[t.$v.name.$error?{"border-color":"var(--warning-color)","background-color":"var(--warning-background-color)"}:{}],attrs:{type:"text",size:"20",id:"name",name:"name"},domProps:{value:t.$v.name.$model},on:{change:function(e){return t.$set(t.$v.name,"$model",e.target.value)}}})]),t.$v.name.$error?[t.$v.name.required?t.$v.name.minLength?t.$v.name.maxLength?a("span",{staticClass:"error"},[t._v(" An unexpected error occurred ")]):a("span",{staticClass:"error"},[t._v(" Name can have at most "+t._s(t.$v.name.$params.maxLength.max)+" letters ")]):a("span",{staticClass:"error"},[t._v(" Name must have at least "+t._s(t.$v.name.$params.minLength.min)+" letters ")]):a("span",{staticClass:"error"},[t._v("Name is required")])]:t._e(),a("div",[a("label",{attrs:{for:"address"}},[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.$v.address.$model,expression:"$v.address.$model",modifiers:{lazy:!0}}],style:[t.$v.address.$error?{"border-color":"var(--warning-color)","background-color":"var(--warning-background-color)"}:{}],attrs:{type:"text",size:"20",id:"address",name:"address"},domProps:{value:t.$v.address.$model},on:{change:function(e){return t.$set(t.$v.address,"$model",e.target.value)}}})]),t.$v.address.$error?[t.$v.address.required?t.$v.address.minLength?t.$v.address.maxLength?a("span",{staticClass:"error"},[t._v(" An unexpected error occurred ")]):a("span",{staticClass:"error"},[t._v(" Address can have at most "+t._s(t.$v.address.$params.maxLength.max)+" letters ")]):a("span",{staticClass:"error"},[t._v(" Address must have at least "+t._s(t.$v.address.$params.minLength.min)+" letters ")]):a("span",{staticClass:"error"},[t._v("Address is required")])]:t._e(),a("div",[a("label",{attrs:{for:"phone"}},[t._v("Phone")]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.$v.phone.$model,expression:"$v.phone.$model",modifiers:{lazy:!0}}],staticClass:"textField",style:[t.$v.phone.$error?{"border-color":"var(--warning-color)","background-color":"var(--warning-background-color)"}:{}],attrs:{type:"text",size:"20",id:"phone",name:"phone"},domProps:{value:t.$v.phone.$model},on:{change:function(e){return t.$set(t.$v.phone,"$model",e.target.value)}}})]),t.$v.phone.$error?[t.$v.phone.required?t.$v.phone.phone?t._e():a("span",{staticClass:"error"},[t._v("Please enter a valid phone number")]):a("span",{staticClass:"error"},[t._v("Phone is required")])]:t._e(),a("div",[a("label",{attrs:{for:"email"}},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.$v.email.$model,expression:"$v.email.$model",modifiers:{lazy:!0}}],style:[t.$v.email.$error?{"border-color":"var(--warning-color)","background-color":"var(--warning-background-color)"}:{}],attrs:{type:"text",size:"20",id:"email",name:"email"},domProps:{value:t.$v.email.$model},on:{change:function(e){return t.$set(t.$v.email,"$model",e.target.value)}}})]),t.$v.email.$error?[t.$v.email.required?a("span",{staticClass:"error"},[t._v(" Please enter a valid email ")]):a("span",{staticClass:"error"},[t._v(" Email is required ")])]:t._e(),a("div",[a("label",{attrs:{for:"ccNumber"}},[t._v("Credit Card")]),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.$v.ccNumber.$model,expression:"$v.ccNumber.$model",modifiers:{lazy:!0}}],style:[t.$v.ccNumber.$error?{"border-color":"var(--warning-color)","background-color":"var(--warning-background-color)"}:{}],attrs:{type:"text",size:"20",id:"ccNumber",name:"ccNumber"},domProps:{value:t.$v.ccNumber.$model},on:{change:function(e){return t.$set(t.$v.ccNumber,"$model",e.target.value)}}})]),t.$v.ccNumber.$error?[t.$v.ccNumber.required?a("span",{staticClass:"error"},[t._v(" Please enter a valid credit card number ")]):a("span",{staticClass:"error"},[t._v(" Credit card number is required ")])]:t._e(),a("div",{staticClass:"expire-date"},[a("div",[t._v("Exp Date")]),a("div",{staticClass:"expire-date-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.ccExpiryMonth,expression:"ccExpiryMonth"}],staticClass:"month",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.ccExpiryMonth=e.target.multiple?a:a[0]}}},t._l(t.months,(function(e,s){return a("option",{key:s,domProps:{value:s+1}},[t._v(" "+t._s(e)+" ("+t._s(s+1)+") ")])})),0),a("div",[t._v("/")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.ccExpiryYear,expression:"ccExpiryYear"}],staticClass:"year",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.ccExpiryYear=e.target.multiple?a:a[0]}}},t._l(15,(function(e,s){return a("option",{key:s,domProps:{value:t.yearFrom(s)}},[t._v(" "+t._s(t.yearFrom(s))+" ")])})),0)])]),a("div",{staticClass:"line-sep"}),a("div",{staticClass:"charge-boxes"},[a("div",{staticClass:"charge-box"},[a("span",{staticClass:"subtitle"},[t._v("Subtotal:")]),a("span",[t._v(t._s(t._f("asDollarsAndCents")(t.$store.state.cart.subtotal)))])]),a("div",{staticClass:"charge-box"},[a("span",{staticClass:"subtitle"},[t._v("Shipping:")]),a("span",[t._v(t._s(t._f("asDollarsAndCents")(t.$store.state.cart.surcharge)))])]),a("div",{staticClass:"line-sep line-sep-charge"}),a("div",{staticClass:"charge-box"},[a("span",{staticClass:"subtitle"},[t._v("You Pay:")]),a("span",[t._v(t._s(t._f("asDollarsAndCents")(t.$store.state.cart.subtotal+t.$store.state.cart.surcharge)))])]),a("div",{staticClass:"charge-box button-box"},[a("input",{staticClass:"button clear-button",attrs:{type:"button",name:"reset",disabled:"PENDING"==t.checkoutStatus,value:"Clear Form"},on:{click:t.clear}}),a("input",{staticClass:"button checkout-button",attrs:{type:"submit",name:"submit",disabled:"PENDING"==t.checkoutStatus,value:"Complete Purchase"}})]),a("section",{directives:[{name:"show",rawName:"v-show",value:""!=t.checkoutStatus,expression:"checkoutStatus != ''"}],staticClass:"checkoutStatusBox"},["ERROR"==t.checkoutStatus?a("div",{staticClass:"error"},[t._v(" Please fix the problems above and try again ")]):"PENDING"==t.checkoutStatus?a("div",[t._v("Processing...")]):"OK"==t.checkoutStatus?a("div",[t._v("Order placed...")]):a("div",{staticClass:"error"},[t._v(" An unexpected error occurred, please try again ")])])])],2)])])},It=[],Tt=a("b5ae"),Dt=a("7a9e"),At=a.n(Dt),Pt=a("6d96"),qt=a.n(Pt);const Lt=t=>qt()(t,"en-US"),Rt=t=>At()(t);var Ht={data(){return{name:"",address:"",phone:"",email:"",ccNumber:"",ccExpiryMonth:(new Date).getMonth()+1,ccExpiryYear:(new Date).getFullYear(),checkoutStatus:""}},validations:{name:{required:Tt["required"],minLength:Object(Tt["minLength"])(4),maxLength:Object(Tt["maxLength"])(45)},address:{required:Tt["required"],minLength:Object(Tt["minLength"])(4),maxLength:Object(Tt["maxLength"])(45)},phone:{required:Tt["required"],phone:Lt},email:{required:Tt["required"],email:Tt["email"]},ccNumber:{required:Tt["required"],creditCard:Rt}},computed:{cart(){return this.$store.state.cart},months(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}},methods:{submitOrder(){if(console.log("Submit order"),this.$v.$touch(),this.$v.$invalid)this.checkoutStatus="ERROR";else{let t={customerName:this.name,address:this.address,phone:this.phone,email:this.email,ccNumber:"*".repeat(this.ccNumber.length-4)+this.ccNumber.slice(-4),ccExpiryMonth:this.ccExpiryMonth,ccExpiryYear:this.ccExpiryYear},e=this.$store.state.cart;this.$store.commit("SET_ORDER_DETAILS",{customer:t,cart:e}),this.checkoutStatus="PENDING",setTimeout(()=>{this.$store.dispatch("placeOrder",{name:this.name,address:this.address,phone:this.phone,email:this.email,ccNumber:this.ccNumber,ccExpiryMonth:this.ccExpiryMonth,ccExpiryYear:this.ccExpiryYear}).then(()=>{this.checkoutStatus="OK",this.$router.push({name:"confirmation"})}).catch(t=>{this.$store.commit("CLEAR_ORDER_DETAILS"),this.checkoutStatus="SERVER_ERROR",console.log("Error placing order",t)})},1e3)}},yearFrom(t){return(new Date).getFullYear()+t},clear(){this.name="",this.address="",this.phone="",this.email="",this.ccNumber="",this.checkoutStatus="",this.$v.$reset()}}},Mt=Ht,Bt=(a("9f29"),Object(d["a"])(Mt,wt,It,!1,null,"6f24b372",null)),Yt=Bt.exports,Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"confirmationView"}},[null==t.$store.state.orderDetails?a("section",[a("h1",[t._v("No Order Information")]),a("div",{staticClass:"empty-cart-button"},[""!==t.$store.state.selectedCategoryName?a("router-link",{staticClass:"button continue-button",attrs:{to:{name:"category",params:{name:t.$store.state.selectedCategoryName}}}},[t._v(" CONTINUE SHOPPING ")]):a("router-link",{staticClass:"button continue-button",attrs:{to:{name:"category",params:{name:t.$store.state.categories[0].name}}}},[t._v(" CONTINUE SHOPPING ")])],1)]):a("section",[a("h1",[t._v("Your Order Has Been Placed")]),a("div",{staticClass:"charge-box"},[a("span",{staticClass:"subtitle"},[t._v("Confirmation #"+t._s(t.$store.state.orderDetails.sNumber))]),a("span",{staticClass:"sub-info"},[t._v(t._s(t._f("asDate")(t.$store.state.orderDetails.time)))])]),a("div",{staticClass:"line-sup-main"}),a("confirmation-table"),a("div",{staticClass:"charge-box"},[a("span",{staticClass:"subtitle"},[t._v("Subtotal:")]),a("span",{staticClass:"sub-info"},[t._v(t._s(t._f("asDollarsAndCents")(t.$store.state.orderDetails.subtotal)))])]),a("div",{staticClass:"charge-box"},[a("span",{staticClass:"subtitle"},[t._v("Shipping:")]),a("span",{staticClass:"sub-info"},[t._v(t._s(t._f("asDollarsAndCents")(t.$store.state.orderDetails.surcharge)))])]),a("div",{staticClass:"line-sep line-sep-charge"}),a("div",{staticClass:"charge-box"},[a("span",{staticClass:"subtitle"},[t._v("You Paid:")]),a("span",{staticClass:"sub-info"},[t._v(t._s(t._f("asDollarsAndCents")(t.$store.state.orderDetails.subtotal+t.$store.state.orderDetails.surcharge)))])]),a("div",{staticClass:"charge-box"},[a("span",{staticClass:"subtitle"},[t._v("Payment:")]),a("span",{staticClass:"sub-info"},[t._v(t._s(t._f("asCCNumber")(t.$store.state.orderDetails.customer.ccNumber))+" ("+t._s(t.$store.state.orderDetails.customer.ccExpiryMonth)+"/"+t._s(t.$store.state.orderDetails.customer.ccExpiryYear)+")")])]),a("div",{staticClass:"line-sup-main"}),a("div",{staticClass:"charge-box shipping-box"},[a("span",{staticClass:"subtitle"},[t._v("Deliver to:")]),a("span",{staticClass:"sub-info"},[a("ul",[a("li",[t._v(t._s(t.$store.state.orderDetails.customer.customerName))]),a("li",[t._v(t._s(t.$store.state.orderDetails.customer.address))]),a("li",[t._v(t._s(t.$store.state.orderDetails.customer.email))]),a("li",[t._v(t._s(t._f("asUSPhone")(t.$store.state.orderDetails.customer.phone)))])])])])],1)])},zt=[],Gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"confirmation-table"},[s("ul",[t._l(t.$store.state.orderDetails.lineItems,(function(e){return[s("li",{key:e.book.bookId},[s("div",{staticClass:"book-image"},[s("img",{attrs:{src:a("43f1")("./"+t.getImageFilePath(e.book.title)),alt:e.book.title}})]),s("div",{staticClass:"book-title"},[t._v(t._s(e.book.title))]),s("div",{staticClass:"cart-book-quantity"},[s("span",{staticClass:"quantity"},[t._v(t._s(e.quantity))])]),s("div",{staticClass:"book-price"},[t._v(" "+t._s(t._f("asDollarsAndCents")(e.book.price))+" ")]),s("div",{key:e.book.bookId,staticClass:"line-sep"})])]}))],2)])},Jt=[],Ut={name:"ConfirmationTable",methods:{getImageFilePath(t){let e=t.toLowerCase();return e=e.replace(/ /g,"+").replace(/[\\<>:"/|?*]/,""),e+".jpg"}}},Kt=Ut,Wt=(a("75f4"),Object(d["a"])(Kt,Gt,Jt,!1,null,"eaedefb2",null)),Vt=Wt.exports,Qt={name:"Confirmation",components:{ConfirmationTable:Vt}},Xt=Qt,Zt=(a("2e5a"),Object(d["a"])(Xt,Ft,zt,!1,null,"a2b11702",null)),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"not-found-page"},[a("h1",[t._v("Not Found!")]),a("h2",[t._v("The page you were looking for was not found")]),a("div",{staticClass:"button-box"},[a("router-link",{staticClass:"button continue-button",attrs:{to:"/"}},[t._v("GO HOME")])],1)])},ae=[],se={name:"NotFound"},re=se,oe=(a("1c7a"),Object(d["a"])(re,ee,ae,!1,null,"5576c15f",null)),ne=oe.exports;s["a"].use(P["a"]);var ie=new P["a"]({mode:"history",base:"/TingJuiBookstoreTransact/",routes:[{path:"/",name:"home",component:U},{path:"/home",name:"home",component:U,alias:["/","/index.html"]},{path:"/category/:name",name:"category",component:ft,props:!0},{path:"/category",redirect:"/category/Black%20&%20White"},{path:"/cart",name:"cart",component:St},{path:"/checkout",name:"checkout",component:Yt},{path:"/confirmation",name:"confirmation",component:te},{path:"*",component:ne}]}),ce=(a("aede"),a("2f62"));const le={"http:":":8080","https:":":8443"},ue=location.protocol+"//"+location.hostname+le[location.protocol]+"/TingJuiBookstoreTransact/api";var me={fetchCategories(){const t=ue+"/categories";return console.log("GET from "+t),fetch(t).then(t=>{if(t.ok)return t.json();throw new Error("Network response was not ok.")}).catch(t=>{throw console.log("Error fetching category data",t),t})},fetchSelectedCategoryBooks(t){const e=ue+"/categories/name/"+t+"/books";return console.log("GET from "+e),fetch(e).then(t=>{if(t.ok)return t.json();throw new Error("Network response was not ok.")}).catch(t=>{throw console.log("Error fetching category data",t),t})},placeOrder(t){return console.log("POSTing to "+ue+"/orders"),fetch(ue+"/orders",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(t=>{if(t.ok)return t.json();throw new Error("Network response was not ok.")})}};class de{constructor(t){this._book=t,this._quantity=1}get book(){return this._book}get quantity(){return this._quantity}set quantity(t){this._quantity=t}get bookId(){return this._book.bookId}get price(){return this._book.price}get total(){return this._quantity*this.price}increment(){this._quantity++}decrement(){this._quantity>0&&this._quantity--}toJSON(){return{book:this._book,quantity:this._quantity}}}class pe{constructor(){this._items=[]}get numberOfItems(){return this._items.reduce((t,e)=>t+e.quantity,0)}get empty(){return this._items.length<=0}get subtotal(){return this._items.reduce((t,e)=>t+e.book.price*e.quantity,0)}get total(){return this.subtotal+this.surcharge}get surcharge(){return 500}get items(){return pe.frozenArray(this._items)}clear(){this._items=[]}addItem(t,e=1){let a=this._items.find(e=>e.book.bookId==t.bookId);if(a)a.quantity++;else{let a=new de(t);a.quantity=e,this._items.push(a)}}update(t,e){if(e<0||e>99)return;let a=this._items.findIndex(e=>e.book.bookId==t.bookId);-1!==a&&(0!==e?this._items[a].quantity=e:this._items.splice(a,1))}toJSON(){return{items:pe.frozenArray(this._items)}}static frozenArray(t){let e=[];return Object.keys(t).forEach(a=>{e.push(t[a])}),Object.freeze(e)}}s["a"].use(ce["a"]);const he="";var ge=new ce["a"].Store({state:{categories:[],selectedCategoryName:"",selectedCategoryBooks:[],cart:new pe,orderDetails:null},mutations:{SET_CATEGORIES(t,e){t.categories=e},ADD_TO_CART(t,e){t.cart.addItem(e,1),localStorage.setItem(he,JSON.stringify(this.state.cart))},SELECT_CATEGORY(t,e){t.selectedCategoryName=e},SET_SELECTED_CATEGORY_BOOKS(t,e){t.selectedCategoryBooks=e},UPDATE_CART(t,{book:e,quantity:a}){t.cart.update(e,a),localStorage.setItem(he,JSON.stringify(this.state.cart))},CLEAR_CART(t){t.cart.clear(),localStorage.setItem(he,JSON.stringify(this.state.cart))},SET_CART(t,e){localStorage.setItem(he,JSON.stringify(e));let a=new pe;e.items.forEach(t=>{a.addItem(t.book,t.quantity)}),t.cart=a},SET_ORDER_DETAILS(t,{customer:e,cart:a}){let s=Math.floor(1e9*Math.random()),r=Date.now();t.orderDetails={sNumber:s,time:r,subtotal:a.subtotal,surcharge:a.surcharge,customer:e,lineItems:a.items}},CLEAR_ORDER_DETAILS(t){t.orderDetails=null}},actions:{fetchCategories(t){me.fetchCategories().then(e=>{console.log("Data: ",e),t.commit("SET_CATEGORIES",e)}).catch(t=>{console.log("Error: "+t)})},addToCart(t,e){t.commit("ADD_TO_CART",e)},updateCart(t,{book:e,quantity:a}){t.commit("UPDATE_CART",{book:e,quantity:a})},clearCart(t){t.commit("CLEAR_CART")},selectCategory(t,e){t.state.selectedCategoryName!==e&&(t.commit("SELECT_CATEGORY",e),t.dispatch("fetchSelectedCategoryBooks"))},fetchSelectedCategoryBooks(t){return me.fetchSelectedCategoryBooks(t.state.selectedCategoryName).then(e=>{t.commit("SET_SELECTED_CATEGORY_BOOKS",e)}).catch(t=>{throw console.log("Error: "+t),t})},placeOrder({commit:t,state:e},a){return me.placeOrder({cart:e.cart,customerForm:a}).then(()=>{t("CLEAR_CART")})}}}),be=a("1dce"),fe=a.n(be),ve=a("558c"),_e=a.n(ve);s["a"].config.productionTip=!1,s["a"].use(fe.a),s["a"].use(_e.a);const Ce=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2});s["a"].filter("asDollarsAndCents",(function(t){return Ce.format(t/100)})),s["a"].filter("asUSPhone",(function(t){return"("+t.substring(0,3)+")-"+t.substring(3,6)+"-"+t.slice(-4)})),s["a"].filter("asCCNumber",(function(t){return 15===t.length?t.substring(0,4)+" "+t.substring(4,10)+" "+t.slice(-4):t.substring(0,4)+" "+t.substring(4,8)+" "+t.substring(8,12)+" "+t.slice(-4)})),s["a"].filter("asDate",(function(t){let e=new Date(t);return e.getMonth()+1+"-"+e.getDate()+"-"+e.getFullYear()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()})),s["a"].directive("click-outside",{bind:function(t,e,a){t.clickOutsideEvent=function(s){t==s.target||t.contains(s.target)||a.context[e.expression](s)},document.body.addEventListener("click",t.clickOutsideEvent)},unbind:function(t){document.body.removeEventListener("click",t.clickOutsideEvent)}}),new s["a"]({router:ie,store:ge,render:function(t){return t(A)},created(){const t=localStorage.getItem(he);if(t){const e=JSON.parse(t);this.$store.commit("SET_CART",e)}}}).$mount("#app")},"5a66":function(t,e,a){},"5b64":function(t,e,a){t.exports=a.p+"img/swimming+pool.aa2fd986.jpg"},6446:function(t,e,a){},"654e":function(t,e,a){"use strict";a("6c27")},"6b2e":function(t,e,a){},"6c27":function(t,e,a){},"6de9":function(t,e,a){t.exports=a.p+"img/geomancy.59ea9efb.jpg"},"712d":function(t,e,a){"use strict";a("c673")},"728f":function(t,e,a){t.exports=a.p+"img/live+beautiful.417597b1.jpg"},"75f4":function(t,e,a){"use strict";a("f973")},"770f":function(t,e,a){t.exports=a.p+"img/a+song+of+life.406e5894.jpg"},"7d05":function(t,e,a){},"7dfa":function(t,e,a){t.exports=a.p+"img/kwame+brathwaite+black+is+beautiful.cf1160c0.jpg"},"828b":function(t,e,a){},"84a2":function(t,e,a){},"8bc3":function(t,e,a){t.exports=a.p+"img/vivian+maier+street+photographer.f6a8c94e.jpg"},"9eae":function(t,e,a){"use strict";a("84a2")},"9f29":function(t,e,a){"use strict";a("5a66")},a6f5:function(t,e,a){t.exports=a.p+"img/urban+geometry.b16c232c.jpg"},a9ee:function(t,e,a){t.exports=a.p+"img/annie+leibovitz+portraits+2005-2016.dd327fcc.jpg"},acb9:function(t,e,a){t.exports=a.p+"img/swimming_pool-hero.0351cd22.jpg"},aede:function(t,e,a){},b088:function(t,e,a){},b82d:function(t,e,a){t.exports=a.p+"img/stories+behind+the+images.8299a7ee.jpg"},b8ee:function(t,e,a){t.exports=a.p+"img/extreme+like+a+girl.d3d63044.jpg"},bd8e:function(t,e,a){},beea:function(t,e,a){t.exports=a.p+"img/le+corbusier+the+complete+buildings.80aa5b69.jpg"},c673:function(t,e,a){},c801:function(t,e,a){t.exports=a.p+"img/denied.9df80a54.jpg"},e069:function(t,e,a){"use strict";a("156e")},e356:function(t,e,a){t.exports=a.p+"img/the+dark+carnival.3ca794c5.jpg"},e49d:function(t,e,a){t.exports=a.p+"img/soviet+cities+labour,+life+&+leisure.640c1d21.jpg"},e691:function(t,e,a){t.exports=a.p+"img/california.e1d4e8fb.jpg"},f0f6:function(t,e,a){t.exports=a.p+"img/100+dives+of+a+lifetime.ea3fb3f4.jpg"},f609:function(t,e,a){t.exports=a.p+"img/planet+lithuania.9fe7ec46.jpg"},f6c7:function(t,e,a){t.exports=a.p+"img/memories+of+a+dog.2d6840e5.jpg"},f973:function(t,e,a){},fcee:function(t,e,a){t.exports=a.p+"img/the+suffering+of+light.4f7dd2b1.jpg"},fef3:function(t,e,a){"use strict";a("828b")}});
//# sourceMappingURL=app.4c7ca0f1.js.map